
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область КСП_ОбработчикиСобытий

&После("ОбработкаПолученияПолейПредставления")
Процедура КСП_ОбработкаПолученияПолейПредставления(Поля, СтандартнаяОбработка)
	
	Если СтандартнаяОбработка Тогда
		СтандартнаяОбработка = Ложь;
	КонецЕсли;
	
	Поля.Добавить("КСП_ТипДокументаСлужебногоРезерва");
	
	Если Поля.Найти("Номер") = Неопределено Тогда
		Поля.Добавить("Номер");
	КонецЕсли;
	
	Если Поля.Найти("Дата") = Неопределено Тогда
		Поля.Добавить("Дата");
	КонецЕсли;
	
КонецПроцедуры

&После("ОбработкаПолученияПредставления")
Процедура КСП_ОбработкаПолученияПредставления(Данные, Представление, СтандартнаяОбработка)
	
	ТипДокумента = Данные.КСП_ТипДокументаСлужебногоРезерва;
	
	Если ЗначениеЗаполнено(ТипДокумента) Тогда
		СтандартнаяОбработка = Ложь;
		Представление = СтрШаблон("%1 %2 от %3", ТипДокумента, Данные.Номер, Данные.Дата);
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область КСП_СлужебныйПрограммныйИнтерфейс

Процедура КСП_УстановитьДопСвойствоДиспетчераРаспределенияГотовойПродукции(ДокументОбъект) Экспорт
	ДокументОбъект.ДополнительныеСвойства.Вставить(КСП_КлючДиспетчераРаспределенияГотовойПродукции());
КонецПроцедуры

Функция КСП_ЭтоЗаписьДиспетчеромРаспределенияГотовойПродукции(Объект) Экспорт
	Возврат Объект.ДополнительныеСвойства.Свойство(КСП_КлючДиспетчераРаспределенияГотовойПродукции());
КонецФункции

#КонецОбласти

#Область КСП_СлужебныеПроцедурыИФункции

Функция КСП_КлючДиспетчераРаспределенияГотовойПродукции()
	Возврат "ЗаписьДиспетчеромРаспределенияГотовойПродукции";
КонецФункции

#КонецОбласти

#КонецЕсли
